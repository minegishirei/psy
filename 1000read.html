<!DOCTYPE html>
<html lang="en">

<head>
    <title>psychology</title>
    <link rel="icon" href="https://sato-icons.com/wp/wp-content/uploads/2021/09/%E6%AD%AF%E8%BB%8A%E3%81%AE%E3%82%A2%E3%82%A4%E3%82%B3%E3%83%B3.png">
    <meta http-equiv="content-type" content="text-html; charset=utf-8" />
    <script src="https://code.jscharting.com/latest/jscharting.js"></script>
    <script type="text/javascript" src="https://code.jscharting.com/latest/modules/types.js"></script>
    <style>
        .chartDiv {
            margin: 8px auto;
        }
    </style>
</head>

<body>
    <div id="chartDiv" class="chartDiv" style="max-width: 2000px;height: 1000px;"></div>

    <script type="text/javascript">
        var palette = [
            '#A1F8AE',
            '#6ECE89',
            '#42A467',
            '#1A7B48',
            '#eeeeee',
            '#B3E5FC',
            '#4FC3F7',
            '#03A9F4',
            '#0288D1',
            '#01579B'
        ];

        var points = [
            {
                "id": "upper_lip_lick",
                parent: [],
                "name": "上唇をなめる",
                "description": "自分のことを魅力的に魅せたい",
                "image" : "https://previews.123rf.com/images/imagoaiva/imagoaiva1612/imagoaiva161200137/67599895-female-mouth-with-tongue-licked-his-upper-lip-sticker-icon.jpg",
                link : "https://psy.hatenadiary.com/entry/2023/07/15/114621#%E5%A5%B3%E6%80%A7%E4%B8%8A%E5%94%87%E3%82%92%E3%81%AA%E3%82%81%E3%82%8B%E9%AD%85%E5%8A%9B%E3%82%92%E3%81%82%E3%81%92%E3%82%8B"
            },
            {
                "id" : "good",
                "parent" : ["upper_lip_lick"],
                "name": "好印象を持っている",
                "description":"自分に対して+のイメージを持っていると判断してよい",
                "image": "https://iconbox.fun/wp/wp-content/uploads/1012_sy_h.png",
            }
        ];
        points = points.map((row) => {
            return {
                ...row,
                attributes: {
                    ...row,
                    role: row.description
                },
                events: {
                    click: function (e) {
                        window.open(row.link)
                    }
                },
                states_hover: {
                    cursor: "pointer"
                }
            }
        })

        points.forEach(function (point, i) {
            point.color = palette[i];
            if (point.id === 'ceo') {
                point.parent.forEach(function (connector, j) {
                    connector.line_color = palette[j];
                });
            }
            if (point.parent === 'ceo') {
                point.connectorLine_color = palette[i];
            }
        });

        var chart = JSC.chart('chartDiv', {
            debug: true,
            type: 'organizational down',
            defaultAnnotation: {
                padding: [5, 10],
                margin: [50, 0],
                radius: 15
            },
            defaultTooltip: {
                asHTML: true,
                outline: 'none',
                zIndex: 10
            },
            annotation: {
                padding: 9,
                corners: ['cut', 'square', 'cut', 'square'],
                margin: [15, 5, 10, 0]
            },
            defaultSeries: {
                color: 'white',
                defaultPoint: {
                    outline_width: 0,
                    connectorLine: { radius: 140, width: 2 },
                    tooltip: '<div class="tooltipBox">%description</div>',
                    label: {
                        text: `
                        <img width=48 height=48 margin_bottom=4 src=%image><br>
                        <b>%name</b><br>
                        <br><span style="font-size:10px; ">%description</span><br>
                        `,
                        maxWidth: 500,
                        autoWrap: false
                    }
                }
            },

            series: [{ points: points }]
        });

        function onClickNode(link) {
            window.location.href = link
        }
    </script>
</body>

